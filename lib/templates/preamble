(function () {
  // ensure the hooks are only registered once per process
  if (typeof global.__mochaDominate === 'symbol') {
    return;
  }

  const mochaDominateSymbol = Symbol('mocha-dominate');
  global.__mochaDominate = mochaDominateSymbol;

  const jsdomGlobal = require("{jsdom-global}");

  beforeEach(function () {
    this[mochaDominateSymbol] = jsdomGlobal();
  });

  afterEach(function () {
    this[mochaDominateSymbol]();
  });
})();
